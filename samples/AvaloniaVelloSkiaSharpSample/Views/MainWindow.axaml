<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:AvaloniaVelloSkiaSharpSample"
        xmlns:vm="clr-namespace:AvaloniaVelloSkiaSharpSample.ViewModels"
        xmlns:pages="clr-namespace:AvaloniaVelloSkiaSharpSample.ViewModels.Pages"
        xmlns:services="clr-namespace:AvaloniaVelloSkiaSharpSample.Services"
        x:Class="AvaloniaVelloSkiaSharpSample.Views.MainWindow"
        Title="VelloSharp SkiaSharp Sample"
        Width="1280"
        Height="800">
  <Window.DataTemplates>
    <local:ViewLocator />
  </Window.DataTemplates>

  <Grid RowDefinitions="Auto,*">
    <Border Background="#141A24"
            Padding="16"
            BorderBrush="#1F3A4F"
            BorderThickness="0,0,0,1">
      <Grid ColumnDefinitions="*,Auto"
            ColumnSpacing="12"
            VerticalAlignment="Center">
        <StackPanel>
          <TextBlock Text="VelloSharp SkiaSharp Sample Gallery"
                     FontSize="24"
                     FontWeight="SemiBold" />
          <TextBlock Text="Explore the SkiaSharp shim flowing through the Vello lease pipeline. Switch backends, inspect diagnostics, and iterate on sample pages."
                     Opacity="0.76"
                     TextWrapping="Wrap"
                     MaxWidth="720" />
        </StackPanel>

        <StackPanel Orientation="Horizontal"
                    Grid.Column="1"
                    Spacing="16"
                    VerticalAlignment="Center">
          <ToggleSwitch Content="Dark theme"
                        IsChecked="{Binding IsDarkTheme, Mode=TwoWay}" />
          <StackPanel>
            <TextBlock Text="Backend"
                       FontWeight="SemiBold"
                       Opacity="0.85" />
            <ComboBox ItemsSource="{Binding Backends}"
                      SelectedItem="{Binding SelectedBackend, Mode=TwoWay}"
                      Width="240"
                      HorizontalAlignment="Left">
              <ComboBox.ItemTemplate>
                <DataTemplate DataType="services:SkiaBackendDescriptor">
                  <StackPanel>
                    <TextBlock Text="{Binding Title}"
                               FontWeight="SemiBold" />
                    <TextBlock Text="{Binding Subtitle}"
                               FontSize="11"
                               Opacity="0.7" />
                  </StackPanel>
                </DataTemplate>
              </ComboBox.ItemTemplate>
            </ComboBox>
          </StackPanel>
        </StackPanel>
      </Grid>
    </Border>

    <TabControl Grid.Row="1"
                ItemsSource="{Binding Pages}"
                SelectedItem="{Binding SelectedPage, Mode=TwoWay}"
                TabStripPlacement="Left"
                HorizontalContentAlignment="Stretch"
                VerticalContentAlignment="Stretch">
      <TabControl.ItemTemplate>
        <DataTemplate DataType="pages:SamplePageViewModel">
          <StackPanel Margin="8"
                      Spacing="4">
            <TextBlock Text="{Binding Title}"
                       FontWeight="SemiBold" />
            <TextBlock Text="{Binding Description}"
                       FontSize="11"
                       Opacity="0.7"
                       TextWrapping="Wrap"
                       MaxWidth="180" />
          </StackPanel>
        </DataTemplate>
      </TabControl.ItemTemplate>

      <TabControl.ContentTemplate>
        <DataTemplate DataType="pages:SamplePageViewModel">
          <ContentControl Content="{Binding}" />
        </DataTemplate>
      </TabControl.ContentTemplate>
    </TabControl>
  </Grid>
</Window>
