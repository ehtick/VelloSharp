<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:rendering="clr-namespace:AvaloniaVelloSkiaSharpSample.Rendering"
             x:Class="AvaloniaVelloSkiaSharpSample.Views.Pages.GeometryExplorerPage">
  <Grid Margin="24"
        RowDefinitions="Auto,*"
        ColumnDefinitions="360,*"
        RowSpacing="16"
        ColumnSpacing="16">
    <StackPanel Grid.ColumnSpan="2"
                Spacing="4">
      <TextBlock Text="Geometry Explorer"
                 FontSize="20"
                 FontWeight="SemiBold" />
      <TextBlock Text="Blend and transform paths while inspecting shimmed Skia geometry metadata."
                 Opacity="0.78"
                 TextWrapping="Wrap" />
    </StackPanel>

    <ScrollViewer Grid.Row="1"
                  HorizontalScrollBarVisibility="Disabled">
      <StackPanel Spacing="16">
        <Border Background="#111722"
                CornerRadius="8"
                Padding="12">
          <StackPanel Spacing="12">
            <TextBlock Text="Primary Shape"
                       FontWeight="SemiBold" />

            <Grid ColumnDefinitions="120,*"
                  RowSpacing="8"
                  ColumnSpacing="12">
              <TextBlock Text="Shape"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <ComboBox Grid.Column="1"
                        ItemsSource="{Binding Shapes}"
                        SelectedItem="{Binding SelectedPrimaryShape}">
                <ComboBox.ItemTemplate>
                  <DataTemplate>
                    <TextBlock Text="{Binding Name}" />
                  </DataTemplate>
                </ComboBox.ItemTemplate>
              </ComboBox>

              <TextBlock Grid.Row="1"
                         Text="Rotation"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="1"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="0"
                        Maximum="360"
                        Value="{Binding PrimaryRotation}"
                        TickFrequency="15" />
                <TextBlock Text="{Binding PrimaryRotation, StringFormat='{}{0:F0}°'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="2"
                         Text="Scale"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="2"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="0.35"
                        Maximum="1.8"
                        Value="{Binding PrimaryScale}"
                        TickFrequency="0.15"
                        TickPlacement="None" />
                <TextBlock Text="{Binding PrimaryScale, StringFormat='{}{0:F2}×'}"
                           Width="64"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="3"
                         Text="Offset X"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="3"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="-220"
                        Maximum="220"
                        Value="{Binding PrimaryOffsetX}"
                        TickFrequency="20" />
                <TextBlock Text="{Binding PrimaryOffsetX, StringFormat='{}{0:F0}'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="4"
                         Text="Offset Y"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="4"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="-220"
                        Maximum="220"
                        Value="{Binding PrimaryOffsetY}"
                        TickFrequency="20" />
                <TextBlock Text="{Binding PrimaryOffsetY, StringFormat='{}{0:F0}'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>
            </Grid>
          </StackPanel>
        </Border>

        <Border Background="#111722"
                CornerRadius="8"
                Padding="12"
                IsEnabled="{Binding ShowSecondary}">
          <StackPanel Spacing="12">
            <TextBlock Text="Secondary Shape"
                       FontWeight="SemiBold" />

            <Grid ColumnDefinitions="120,*"
                  RowSpacing="8"
                  ColumnSpacing="12">
              <TextBlock Text="Shape"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <ComboBox Grid.Column="1"
                        ItemsSource="{Binding Shapes}"
                        SelectedItem="{Binding SelectedSecondaryShape}">
                <ComboBox.ItemTemplate>
                  <DataTemplate>
                    <TextBlock Text="{Binding Name}" />
                  </DataTemplate>
                </ComboBox.ItemTemplate>
              </ComboBox>

              <TextBlock Grid.Row="1"
                         Text="Rotation"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="1"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="0"
                        Maximum="360"
                        Value="{Binding SecondaryRotation}"
                        TickFrequency="15" />
                <TextBlock Text="{Binding SecondaryRotation, StringFormat='{}{0:F0}°'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="2"
                         Text="Scale"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="2"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="0.3"
                        Maximum="1.4"
                        Value="{Binding SecondaryScale}"
                        TickFrequency="0.1" />
                <TextBlock Text="{Binding SecondaryScale, StringFormat='{}{0:F2}×'}"
                           Width="64"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="3"
                         Text="Offset X"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="3"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="-220"
                        Maximum="220"
                        Value="{Binding SecondaryOffsetX}"
                        TickFrequency="20" />
                <TextBlock Text="{Binding SecondaryOffsetX, StringFormat='{}{0:F0}'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>

              <TextBlock Grid.Row="4"
                         Text="Offset Y"
                         FontWeight="SemiBold"
                         Opacity="0.75" />
              <StackPanel Grid.Column="1"
                          Grid.Row="4"
                          Orientation="Horizontal"
                          Spacing="8"
                          VerticalAlignment="Center">
                <Slider Width="200"
                        Minimum="-220"
                        Maximum="220"
                        Value="{Binding SecondaryOffsetY}"
                        TickFrequency="20" />
                <TextBlock Text="{Binding SecondaryOffsetY, StringFormat='{}{0:F0}'}"
                           Width="48"
                           HorizontalAlignment="Right" />
              </StackPanel>
            </Grid>
          </StackPanel>
        </Border>

        <Border Background="#111722"
                CornerRadius="8"
                Padding="12">
          <StackPanel Spacing="8">
            <TextBlock Text="Options"
                       FontWeight="SemiBold" />

            <CheckBox Content="Display secondary shape"
                      IsChecked="{Binding ShowSecondary}" />
            <CheckBox Content="Show tight bounds"
                      IsChecked="{Binding ShowBounds}" />
            <CheckBox Content="Show control handles"
                      IsChecked="{Binding ShowControlPoints}" />

            <StackPanel Spacing="6"
                        IsEnabled="{Binding ShowSecondary}">
              <TextBlock Text="Boolean Operation"
                         FontWeight="SemiBold" />
              <ComboBox ItemsSource="{Binding PathOperations}"
                        SelectedItem="{Binding SelectedPathOperation}">
                <ComboBox.ItemTemplate>
                  <DataTemplate>
                    <TextBlock Text="{Binding Name}" />
                  </DataTemplate>
                </ComboBox.ItemTemplate>
              </ComboBox>
              <TextBlock Text="{Binding SelectedPathOperation.Description}"
                         FontSize="11"
                         Opacity="0.7"
                         TextWrapping="Wrap" />
            </StackPanel>

            <CheckBox Content="Visualise boolean result"
                      IsChecked="{Binding ShowBooleanResult}"
                      IsEnabled="{Binding ShowSecondary}" />

            <Button Content="Capture snapshot"
                    Command="{Binding CaptureSnapshotCommand}" />
            <TextBlock Text="{Binding CaptureStatus}"
                       FontSize="11"
                       Opacity="0.75"
                       TextWrapping="Wrap" />

            <TextBlock Text="{Binding GeometrySummary}"
                       FontFamily="Consolas, Courier New"
                       FontSize="12"
                       TextWrapping="Wrap"
                       Opacity="0.86" />
            <TextBlock Text="{Binding BooleanSummary}"
                       FontFamily="Consolas, Courier New"
                       FontSize="12"
                       TextWrapping="Wrap"
                       Opacity="0.86" />
          </StackPanel>
        </Border>
      </StackPanel>
    </ScrollViewer>

    <Border Grid.Row="1"
            Grid.Column="1"
            Background="#101722"
            CornerRadius="12"
            Padding="16">
      <rendering:SkiaLeaseSurface Renderer="{Binding}"
                                   BackendDescriptor="{Binding BackendDescriptor}" />
    </Border>
  </Grid>
</UserControl>
